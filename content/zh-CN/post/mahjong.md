---
title: "日麻算分规则推导-死记硬背不如理解原理"
date: 2022-05-12T00:00:00+08:00
math: true
draft: false
tags: ["游戏", "学习"]
categories: ["游戏", "学习"]
---


对于刚入坑的玩家来说，日麻的算分规则极其复杂，记住役种已经很困难了，还要算番算符。要是遇到面麻四个人都不会算分，就会被水淹没不知所措。如果因为算分起了争执，可能打起来，被打死，十分危险。

<!--more-->

规则都是人定的，定出这样的规则一定有其目的或意义。今天带大家梳理一下日麻的各种计分规则，并介绍它们为什么是这样。

阅读本文需要的基础知识：
- 麻将和牌规则（至少要知道4面子+1雀头，役种记不全无所谓）
- 知道日麻的役牌、自风、场风
- 知道幺九和中张的概念

## 1. 基本点数之上的计算

### 最简单的计分

计分是为了什么？当然是为了记录之前的战绩。那么最简单的计分就是：

- 和一局计1分

### 筹码

但这种规则如果玩钱的话就不好办了，钱只能是一个人给另一个人，不能凭空增加，所以我们稍微改改规则：

- 每和一局，其他三家各减1分，胡牌者加3分

“分”更专业的说法是“点”。换种说法就是：

- 未和牌者每人支付和牌者1点

### 点炮

这样问题又来了，如果 A 给 B 点炮，最大的责任在 A，点炮者应该支付更多，以示惩罚。有些地方麻将规定点炮者支付的点数加倍，但在日麻中惩罚更为严厉：

- 包付制：点炮者要替其他人支付所有点数

> 这也是日麻比其他麻将更注重防守的原因之一。此外，这种规则也可以有效防止两家合作坑其他人。

比如 A 给 B 点炮，A 不仅要支付自己的 1 点，还要替 C、D 各支付 1 点，于是有：

- 点炮者支付和牌者 3 点

而如果是自摸，则和刚才一样，未和牌者每人支付和牌者1点就行了。

### 庄家

庄家，作为本局的起始玩家，拥有特殊的地位，如果能在计分上体现出这种特殊性就好了。我们规定：

- 所有涉及庄家的点数加倍

具体地：

- 庄家荣和，点炮者支付 6 点，庄家得 6 点
- 庄家自摸，其他三家每人支付 2 点，庄家得 6 点
- 闲家荣和，点炮者支付 4 点（包付庄家 2 点和两闲家各 1点），和者得 4 点
- 闲家自摸，庄家支付 2 点，另外两闲家各支付 1 点，和者得 4 点

> 这就是其他教程里“4a”，“6a”的来历。

### 后记

以上讨论的基本点数都是 1。不失一般性，我们可以整体扩大 a 倍（a 为正整数），即：

- 庄家荣和，点炮者支付 6a，庄家得 6a
- 庄家自摸，其他三家每人支付 2a，庄家得 6a
- 闲家荣和，点炮者支付 4a，和者得 4a
- 闲家自摸，庄家支付 2a，另外两闲家各支付 a，和者得 4a

这里的 a 又要怎么算呢？a 由符数 b 和番数 n 共同确定。下面逐一介绍。

## 2. 基本点数计算 —— 符

基于上述讨论，不管和了什么样的牌，得分都一样，这不合理。我们希望能够根据不同的牌面给予不同的得分，以此体现不同牌形的价值。这一点在日麻中通过“符”和“番”来实现。

符用来对牌面本身进行计分。

### 刻子、杠子

面子分为“顺子”（如123）和“刻子”（如444）。显然刻子更难获得，所以我们给刻子额外加分。加分不宜太多也不宜太少。经过实践，一个比较合理的幅度是：

- 和牌时，每有一个刻子，得分增加 0.1a

为了计算方便，我们把 a 规定为 20，于是规则变成：

- **任何和牌的基本点数为 20**
- 和牌时，每有一个刻子，得分增加 2

再精细一些，暗刻比明刻难做，所以暗刻加倍，也就是：

- 和牌时，每有一个明刻，得分增加 2
- 和牌时，每有一个暗刻，得分增加 4

此外，幺九牌的牌效率较低，一般倾向于提前打出，所以幺九刻子比中张刻子难以获得。我们给幺九刻字的得分奖励也加倍！

幺九和中张、明和暗，排列组合就有 4 种情况了：

- 和牌时，每有一个中张明刻，得分增加 2
- 和牌时，每有一个幺九明刻，得分增加 4
- 和牌时，每有一个中张暗刻，得分增加 4
- 和牌时，每有一个幺九暗刻，得分增加 8

杠子是比刻子还难做的东西，同样有幺九和中张、明和暗四种情况。对明杠来说，不论是大明杠还是明刻加杠，都需要自己摸 3 张，再获得其他人的 1 张，而自己摸 3 张的难度已经和暗刻等同了，所以明杠其实是比暗刻还难做的东西。因此，明杠的得分是对应暗刻的 2 倍，而暗杠又得是明杠的 2 倍，总结一下就是：

- 和牌时，每有一个中张明杠，得分增加 8
- 和牌时，每有一个幺九明杠，得分增加 16
- 和牌时，每有一个中张暗杠，得分增加 16
- 和牌时，每有一个幺九暗杠，得分增加 32

可以看到，幺九暗杠是很值钱的，直接加了 32 分，牛啊牛啊！

以上不用死记硬背，只要知道最基础的“中张明刻+2符”，然后幺九加倍、暗加倍、明杠是暗刻的二倍，就可以现场推导。

### 雀头

为了体现役牌的地位：

- 役牌雀头 +2 符

注：如果是自风场风重合，就是双重役牌，双倍的快乐，+4 符。

### 听牌

根据前面的尿性，越是概率低的东西，加符越多。物以稀为贵嘛！听牌也是一样。多数情况下，人们倾向于做“好型听牌”，例如 23 听 14，听的牌有两种（1和4），这就比较普通，不加符。如果你听的牌只有 1 种，则 +2 符。

只听 1 种牌只有以下三种情况：
- 边张：例如 12 听 3、 89 听 7
- 嵌张：例如 24 听 3
- 单骑：就是单听那一张雀头

于是：

- 边张、嵌张、单骑听牌 +2 符

需要注意的是：
- 如果是组合型多面听，按照最终和到的牌对应的牌型计算。例如 1113，虽然听 23，是两种牌，但我和 2 时，实际上是 13 听 2，算嵌张，也加符。
- 有多种算法，按照符多的算。例如 23345，和了 4，既可以看成 23 听 14，也可以看成 35 听 4。如果这里不影响番数计算的话，应该按照嵌张计算，+2 符（之所以加了个“不影响番数计算”的条件，是因为算番的时候，这里可能会影响到是否为平和，从而影响番数，但无论如何都是按照最终打点高的计算方式）。（**这是日麻的大原则，多种算法总是按最终打点高的算**，后面算番也一样，不再重复）

### 和牌方式

和牌方式有两个维度：是否门前清、是自摸还是荣和，4种情况。显然门前清比副露厉害，自摸比荣和厉害。下面逐个讨论。

副露自摸 +2 符，这是对自摸的奖励。

门前清自摸最厉害，但这个直接算 1 番，所以就不针对门前清额外加符了，和副露自摸一样 +2 符。

门前清荣和，仅仅因为最后一张牌不是自己摸到的，就痛失一番，一番大概相当于 20 符（实际不是，只是粗略估计），那门前清荣和勉强算半番，也就是 +10 符。

副露荣和，啥都没有。

上面看着乱，但总结一下就这两种情况：
- 自摸 +2 符
- 门前清荣和 +10 符

### 进位

看到这是不是已经吐了？如果直接这样算出基本点 a，没有番还好，有番的话，要用 a 做很多复杂计算，很麻烦。为了便于计算，人们规定：

- 算完符之后，一律向上取整到整十

比如算出来 28 符，就进位到 30。32 符就进位到 40。

### 特殊情况

有两种特殊牌型，下面逐一介绍。

#### 特殊情况一：七对子

七对子是固定 25 符，不管你听的啥和的啥有没有雀头，都是固定 25 符，并且不进位到 30. 这是因为，刚有七对子的时候是 0 番 100 符（没错，那时候还有“0番”的说法），后来七对子改成了 2 番，为了和原来 0 番 100 符保持一致，就改成了 2 番 25 符（`25*2^2=100` 嘛！）。

#### 特殊情况二：20符

最少的符是 20 符。但有许许多多加符的规则，所以一般都会超过 20 符，但还是会有倒霉蛋和到 20 符，这太少了，和了一大顿才 20 符，让人想掀桌。所以加了这么一条规则：

- **如果按照符最多的算法**算出来还是 20 符，自动进到 30 符

是不是很简单粗暴！

很多规则里把这个称为“副露平和型的荣和”，这是把简单问题复杂化了。因为“副露平和型的荣和”其实等价于**按照符最多的算法**算出来 20 符，证明留给大家自行思考。

注：平和按 20 符计算，不进到 30 符。平和如果按照符最多的算法，一定不是 20 符。平和是门前清限定，而门前清不论自摸还是荣和都有额外加符，只不过为了获得平和的 1 番放弃了额外加符而已。（这也符合前面说的“最终打点最大化”的大原则）

### 算符流程总结

实战中，可以参考以下算符流程：

1. 看是不是七对子，如果是，直接 25 符，结束；否则获得底符 20
3. 计算刻子和杠子的加符
4. 计算听牌方式的加符
5. 如果算到这里还是 20 符，则转到 6；否则转到 7
6. 如果是门前清，是平和 20 符；如果是副露自摸，是 22 符；如果是副露荣和，则是 30 符；转到 8
7. 如果是自摸，额外 +2 符；如果是门前清荣和，额外 +10 符，副露荣和不加符
8. 进位到整 10，结束

算完符之后，我们得到了一个符数，**为了方便，下面记作 b**。

## 3. 基本点数计算 —— 番

如果没有番这一说，则符数 b 就是基本点数 a。但不同的牌型稀有度是不一样的，例如九莲宝灯显然比断幺九厉害。番就是用来衡量稀有度的。本文重点讲计分原理，所以就不重点介绍不同番型了，可以看后面的附录。

番分为普通番和役满，我们先说普通番。普通番就直接把所有成立的番数加起来，比如立直对对和，就是 1+2=3 番。

### 满贯以下

下面假设我们已经得到了符数 b 和番数 n。番就是翻倍，最简单的算法是：

- $a=2^nb$

实际上，为了计算方便，人们还是将 a 对齐到整百。a 如果太小了，对齐就会有较大误差（比如 1 番 30 符，a=30，你是算 0 还是算 100？尴尬不？）。为了解决这一问题，人们统一在指数上加了个 2：

- $a=2^{n+2} b$

之后，直接按照第 1 节的方法，根据 $a$ 计算出待支付点数，然后不足 100 的进位到 100（点棒的最小单位是 100）。

**例**：闲家自摸 4 番 30 符，a=1920，另外两个闲家每人支付进位后的 2000，庄家支付 2a = 3840，进位后是 3900（注意不是先进位到 2000 再乘 2！）。所以此人最终获得 2000 + 2000 + 3900 = 7900.

把以上内容写成数学公式，就是这个让初学者一头雾水的东西：

$$N = 100 \lceil \dfrac{kb2^{n+2}}{100} \rceil$$

k 是第 1 节说的 a 前面的系数，N 是此人要支付的点数。

但这公式屁用没有，实际计算的时候，用的都是 $a=2^{n+2} b$。

### 平滑化

实战中 30 符很常见，我们以 30 符为例算一下不同番的基本点：

|番数|基本点|
|--|--|
|1|240|
|2|480|
|3|960|
|4|1920|
|5|3840|
|6|7680|
|7|15360|
|8|30720|

可以看到，这里存在一个指数爆炸的问题，如果闲家点闲家的 8 番 30 符，按照上面算法竟然要支付 122900 点，而四个人点棒加起来才 100000 点，如果真的发生这种事情，点炮者只点了 8 番就要输光内裤，很可能会羞愤而死，非常危险。为了解决这一问题，我们需要对较大的番数进行特殊处理，不让他指数爆炸。

最简单的方法就是设计一个上限，习惯上取了个 4 番~ 5 番附近的点数 2000。我们规定：

- 如果 a > 2000，则按 2000 计算

我们来看看这意味着什么。最小的符数是 20 符，20 符 4 番是 1280 点，20 符 5 番是 2560 点，所以大于等于 5 番时，a 一定是 2000. 而番数小于 5 番时，符数较大也会达到 2000，例如 4 番 40 符（a=2560），3 番 70 符（a=2240），2 番 130 符等。**我们把这种 a 超过 2000 的情况称为“满贯”，直接计 a=2000.**

可以看到，5 番是一个分水岭。只要达到 5 番，一定是满贯（这也意味着 5 番及以上不用算符了，妙极了）。

但如果只这样，又不太好，5 番和 13 番都是 2000 点，和 13 番的人可能会羞愤而死，非常危险。我们可以设一个循序渐进的界限：

- 如果 1~5 番，a < 2000，正常计算
- 如果 1~5 番，a > 2000，称为满贯，取 a = 2000
- 6~7 番，称为跳满（即 1.5 倍满贯），取 a = 3000
- 8~10 番，称为倍满，取 a = 4000
- 11~12 番，称为三倍满，取 a = 6000
- 13番及以上，称为累计役满（即 4 倍满贯），取 a = 8000

好起来了！

### 役满

刚才我们提到了累计役满。实际上，番数表里面除了常规的番，还有专门的“役满”。这些“役满”都是极难达成的，为了体现它们的特殊地位，就设立了役满的规则。

役满可以理解为“高阶满贯”。正如满贯让玩家可以忽略符数，役满可以让玩家忽略普通的番数，而只计算役满。例如同时成立清一色和绿一色时，只计算绿一色的役满，不计算清一色的 6 番（或 5 番）。

役满和累计役满一样，a = 8000，非常好算。

但役满之间允许复合（累计役满和役满不能复合！因为累计役满的本质不是役满，而是四倍满贯，十三番！）。例如天和国士无双十三面（拿阳寿打牌？），就是三倍役满，a = 24000，此时不计其他的普通番数（比如宝牌）。

## 附录：番数表

这个人很懒，这里忘了放！